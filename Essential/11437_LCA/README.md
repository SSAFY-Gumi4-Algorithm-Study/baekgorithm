
---

# LCA (Lowest Common Ancestor)

## 문제 이해

트리에서 두 노드가 주어졌을 때, 두 노드의 **공통 조상 중 가장 가까운 조상(LCA)** 을 찾는 문제이다.
트리는 `N`개의 노드와 `N-1`개의 간선으로 구성되며, 모든 노드는 1번부터 N번까지 번호가 매겨져 있다.
각 쿼리마다 두 노드 `a`, `b`가 주어지면 이들의 LCA를 출력한다.

---

## 아이디어

1. 트리를 루트(1)부터 DFS로 탐색하여 각 노드의 **부모(parent)** 와 **깊이(depth)** 를 기록한다.
2. 두 노드의 깊이가 다르면, 더 깊은 노드를 위로 올려 깊이를 맞춘다.
3. 깊이가 같아진 뒤 두 노드를 동시에 위로 이동시켜 처음 만나는 노드가 LCA이다.

---

## 주요 자료구조

| 이름        | 자료형                    | 설명             |
| --------- | ---------------------- | -------------- |
| `tree`    | `ArrayList<Integer>[]` | 인접 리스트 형태의 트리  |
| `parent`  | `int[]`                | 각 노드의 부모 노드 저장 |
| `depth`   | `int[]`                | 각 노드의 깊이 정보    |
| `visited` | `boolean[]`            | DFS 방문 여부 체크   |

---

## 메서드 설명

### `dfs(int node, int d)`

* 루트에서 시작하여 모든 노드를 DFS 탐색.
* 각 노드의 깊이와 부모를 기록.

### `lca(int a, int b)`

* 두 노드의 깊이를 맞춘 뒤, 동시에 부모 방향으로 올라가며 일치할 때까지 반복.
* 만나는 노드가 최소 공통 조상이다.

---

